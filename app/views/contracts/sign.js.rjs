id = dom_id(@contract)
if @contract.signed?
  page['memberships'].replace :partial => "memberships/states", :locals => {:object => @account.membership}
else
  page[id].visual_effect :shake, :duration =>0.25, :distance => 6
  page[:flash].replace_html @contract.errors.full_messages.join(", ")
  page.call "crm.flash", :warning
end